/*! hora.js 1.1.0 (https://github.com/mobify/hora.js) */
define(["$"],function(a){var b=a(window),c=a(document),d={isDebug:!1},e={nonInteraction:1},f={},g={},h=!1;return a.extend(a,{isString:function(a){return"[object String]"===Object.prototype.toString.call(a)}}),d.__carousels={clear:function(){f=[]}},d.__accordions={clear:function(){g=[]}},d.__validateObjectSchema=function(a,b,c){for(var d=0,e=c.length;e>d;d++){var f=c[d];if(!b.hasOwnProperty(f))throw"The "+a+" object doesn't contain the "+f+" property, which is required";if(!b[f])throw"The "+a+" object contains the "+f+" property, but it's value is falsy"}},d.__stringifyPropertyValues=function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=String(a[b]));return a},d.send=function(){var a=Array.prototype.slice.call(arguments);a.unshift("mobifyTracker.send","event"),d.isDebug?console.log("Parameters: %O",a):Mobify.analytics.ua.apply(null,a)},d.init=function(a){d.isDebug=a,b.on("touchmove",function(){h=!0}).on("touchend",function(){window.setTimeout(function(){h=!1},50)}).on("orientationchange",d.orientation.change).on("load",function(){var a=b.height();b.on("scroll",function(){b.scrollTop()+a===c.height()&&d.scroll.bottom("Page")})}),function(){var a=window.alert;window.alert=function(b){d.error.alert(b),a(b)}}()},d.proxyClassicAnalytics=function(){if(window._gaq&&!d.isDebug){var a=window._gaq.push;window._gaq.push=function(b){return d.send("Desktop Event: "+b[1],b[2],b[3],e),a(b)}}},d.proxyUniversalAnalytics=function(a,b,c,e,f,g){if(!d.isDebug){var h=window.ga,i=function(){if(h?h.apply(null,arguments):(window.ga.q=window.ga.q||[]).push(arguments),/^(require|provide|send|ec:setAction|ec:addProduct)$/im.exec(a)&&("send"!==a||"pageview"!==b&&("event"!==b||"mobify"!==c))){var d=Array.prototype.slice.call(arguments,0);d[0]="mobifyTracker."+d[0],Mobify.analytics.ua.apply(null,d)}};window.ga=i,window.ga(function(){h=window.ga,window.ga=i})}},d.orientation={change:function(){var a=window.innerHeight>window.innerWidth?"Landscape to Portrait":"Portrait to Landscape";d.send("Orientation","Change",a,e)}},d.carousel={slide:function(a,b){var c=f[a];if(a="Carousel - "+a,h?(d.send(a,"Swipe","Slide #"+b,b,{metric15:0===c.swipes.length?1:0}),c.swipes.push(b)):(d.send(a,"Move","Slide #"+b,b,{metric15:0===c.slides.length?1:0}),c.slides.push(b)),c.viewed.push(b),!c.fullViewFired&&c.viewed.length>=c.totalSlides){c.fullView=!0;for(var e=1,g=c.totalSlides;g>=e;++e)if(-1===c.viewed.indexOf(e)){c.fullView=!1;break}c.fullView&&(d.send(a,"View All Slides","Total "+c.totalSlides,c.totalSlides),c.fullViewFired=!0)}},load:function(a,b){f.hasOwnProperty(a)||(f[a]={fullView:!1,fullViewFired:!1,totalSlides:b,slides:[],swipes:[],zooms:[],icons:[],viewed:[],clicks:[]}),f[a].viewed.push(1),d.send("Carousel - "+a,"Load","Total "+b,b,e)},zoom:function(a,b){var c=f[a];a="Carousel - "+a,d.send(a,"Zoom","Slide #"+b,b,{metric15:0===c.zooms.length?1:0}),c.zooms.push(b)},slideClick:function(a,b){var c=f[a];a="Carousel - "+a,d.send(a,"Click","Slide #"+b,b,{metric15:0===c.clicks.length?1:0}),c.clicks.push(b)},iconClick:function(a,b,c){var e=f[a],g=-1===c?"Previous":"Next";a="Carousel - "+a,d.send(a,g+" Icon","Slide #"+b,b,{metric15:0===e.icons.length?1:0}),e.icons.push(b)}},d.navigation={click:function(a,b){d.send("Navigation - "+a,"Click",b)}},d.search={toggle:function(){d.send("Search","Toggle")}},d.breadcrumb={click:function(){d.send("Breadcrumb","Click")}},d.backToTop={click:function(){d.send("Back To Top","Click")}},d.newsletter={click:function(){d.send("Newsletter","Click")}},d.footer={click:function(){d.send("Footer","Click")}},d.pagination={click:function(){d.send("Pagination","Click")}},d.filter={toggle:function(a){d.send("Filter - "+a,"Toggle")},change:function(a,b,c){d.send("Filter - "+a,"Change: "+b,c)}},d.scroll={up:function(a){d.send("Scroll - "+a,"Up")},down:function(a){d.send("Scroll - "+a,"Down")},top:function(a){d.send("Scroll - "+a,"Top")},bottom:function(a){d.send("Scroll - "+a,"Bottom")}},d.sizeGuide={open:function(a){d.send("Size Guide - "+a,"Open")}},d.emailFriend={open:function(a){d.send("Email Friend - "+a,"Open")}},d.emailMeBack={open:function(a){d.send("Email Me Back - "+a,"Open")}},d.color={change:function(a){d.send("Color - "+a,"Change")}},d.quantity={change:function(a,b){d.send("Quantity - "+a,"Change",null,b)}},d.size={change:function(a,b){d.send("Size - "+a,"Change",null,b)}},d.error={generic:function(a,b){d.send("Error",a,b)},alert:function(a){d.send("Error","Alert",a)},unsuccessfulSubmission:function(a){d.send("Error","Unsuccessful Submission",a)},unsuccessfulAddToCart:function(a){d.send("Error","Unsuccessful Add To Cart",a)},unsuccessfulPlaceOrder:function(a){d.send("Error","Unsuccessful Place Order",a)}},d.review={read:function(a){d.send("Review - "+a,"Read")}},d.sidebar={open:function(a){d.send("Sidebar - "+a,"Open")},close:function(a){d.send("Sidebar - "+a,"Close")}},d.cart={addItem:function(){var a=!1;for(var b in f)if(f.hasOwnProperty(b)){var c=f[b];c.fullViewFired&&(a=!0)}d.send("Cart","Add Item","None",0,{metric15:a?1:0})},removeItem:function(){d.send("Cart","Remove Item","None",0)}},d.minicart={toggle:function(){d.send("Mini-Cart","Toggle")},enableEdit:function(){d.send("Mini-Cart","Enable Edit")},disableEdit:function(){d.send("Mini-Cart","Disable Edit")},changeQuantity:function(a){d.quantity.change("Mini-Cart",a)}},d.checkout={start:function(a){d.send("Checkout","Start",a)}},d.accordion={open:function(a,b){var c=g[a];if(a="Accordion - "+a,d.send(a,"Open","Item #"+b,b,{metric15:0===c.opens.length?1:0}),c.opens.push(b),c.opens.length>1&&c.opens.length>c.closes.length){var e=c.opens.length-c.closes.length;d.send(a,"Open Multiple Items","Total "+e,e)}if(!c.fullViewFired&&c.opens.length>=c.totalItems){c.fullView=!0;for(var f=1,h=c.totalItems;h>=f;++f)if(-1===c.opens.indexOf(f)){c.fullView=!1;break}c.fullView&&(d.send(a,"View All Items","Total "+c.totalItems,c.totalItems),c.fullViewFired=!0)}},close:function(a,b){var c=g[a];c.closes.push(b)},load:function(a,b){g.hasOwnProperty(a)||(g[a]={fullView:!1,fullViewFired:!1,totalItems:b,opens:[],closes:[]}),d.send("Accordion - "+a,"Load","Total "+b,b,e)}},d.viewDesktop={click:function(){d.send("View Desktop","Click")}},d.transaction={send:function(b,c,e,f){var g="mobifyTracker.ecommerce";if(!b||!a.isString(b))throw'Hora.transaction.send requires a string containing the transaction ID, i.e. "1234"';if(!c||!a.isString(c))throw'Hora.transaction.send requires a string containing the affiliation, usually the project name, i.e. "Acme Clothing"';if(!e||!a.isPlainObject(e))throw'Hora.transaction.send requires an object literal containing the transaction details, i.e. {"revenue": "11.99","shipping": "5","tax": "1.29"}';if(!f||!a.isArray(f))throw"Hora.transaction.send requires an Array containing the transaction item details";e.id=b,e.affiliation=c,d.__stringifyPropertyValues(e),!d.isDebug&&Mobify.analytics.ua(g+":addTransaction",e);for(var h=0,i=f.length;i>h;h++){var j=f[h];j.id=b,d.__validateObjectSchema("item",j,["id","name","sku"]),d.__stringifyPropertyValues(j),f[h]=j,!d.isDebug&&Mobify.analytics.ua(g+":addItem",j)}d.isDebug?(console.log("Transaction: %O",e),console.log("Transaction items: %O",f)):Mobify.analytics.ua(g+":send")}},d});